extends ../../layouts/stack/stack

include ../../modules/blue-block/blue-block
include ../../modules/block-aside-links/block-aside-links
include ../../modules/breadcrumbs/breadcrumbs
include ../../modules/cross-content/cross-content
include ../../modules/footer/footer
include ../../modules/header/header
include ../../modules/heading/heading
include ../../modules/hub-heading/hub-heading
include ../../modules/jecoute/jecoute
include ../../modules/newsletter/newsletter
include ../../modules/news-list/news-list
include ../../modules/social/social
include ../../components/text/text
include ../../components/faq/faq

append content
  +header(public.modules.header._data.index.defaults)

append content
  .layout-content
    +hub-heading(data.heading)

append content
  .layout-content.layout-separate-after.layout-small-top-padding
    .layout-wrapper
      +breadcrumbs(data.breadcrumbs)

append content
  .layout-content.layout-content-adjacent
    .layout-left-col
      .layout-wrapper
        aside.layout-aside
          +block-aside-links(data.aside.profile)
          +block-aside-links(data.aside.topics)
        .layout-content
          +text(data.content.intro)
          +faq(data.content.faq)

append content
  .layout-content.color-secondary-background
    .layout-three-col
      .layout-wrapper
        +heading(data.connected.heading)
        .layout-content
          +blue-block({title: data.connected.newsletter.title})
            +newsletter(data.connected.newsletter)
        .layout-content
          +blue-block({title: data.connected.jecoute.title})
            +jecoute(data.connected.jecoute)
        .layout-content
          +blue-block({title: data.connected.social.title})
            +social(data.connected.social)

append content
  .layout-content.layout-content-adjacent
    +footer(public.modules.footer._data.index.defaults)
