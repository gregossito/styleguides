include ../../modules/button/button

mixin get-involved-item(data)
  .get-involved-item
    .get-involved-item-category= data.category
    .get-involved-item-title= data.title
    - data.button.modifiers = ["action", "get-involved-item-button"]
    +button(data.button)

mixin get-involved-list(data)
  .get-involved-list
    .get-involved-column
      if data.intro
        .get-involved-item.intro
          each item in data.intro.items
            .get-involved-item-title= item.title
            - button = JSON.parse(JSON.stringify(item.button)) // clone the data object
            - button.modifiers = ["action", "secondary"] // overwrite the modifiers
            +button(button)
      each item in data.items.slice(0, 2)
        +get-involved-item(item)
    .get-involved-column
      each item in data.items.slice(2, 6)
        +get-involved-item(item)
    .get-involved-column
      each item in data.items.slice(6, 9)
        +get-involved-item(item)
