include ../news-card/news-card

mixin news-list(data)
  if data.agenda
    div.news-list-agenda
      div.news-list-agenda-nav
        div.news-list-agenda-nav-prev.icon-arrow-left
        div.news-list-agenda-nav-month
        div.news-list-agenda-nav-next.icon-arrow-right
      div.news-list-agenda-arrondissement
        div.news-list-agenda-arrondissement-change= 1
        div.news-list-agenda-arrondissement-change= 2
        div.news-list-agenda-arrondissement-change= 3
        div.news-list-agenda-arrondissement-change= 4
        div.news-list-agenda-arrondissement-change= 5
        div.news-list-agenda-arrondissement-change= 6
        div.news-list-agenda-arrondissement-change= 7
        div.news-list-agenda-arrondissement-change= 8
        div.news-list-agenda-arrondissement-change= 9
        div.news-list-agenda-arrondissement-change= 10
        div.news-list-agenda-arrondissement-change= 11
        div.news-list-agenda-arrondissement-change= 12
        div.news-list-agenda-arrondissement-change= 13
        div.news-list-agenda-arrondissement-change= 14
        div.news-list-agenda-arrondissement-change= 15
        div.news-list-agenda-arrondissement-change= 16
        div.news-list-agenda-arrondissement-change= 17
        div.news-list-agenda-arrondissement-change= 18
        div.news-list-agenda-arrondissement-change= 19
        div.news-list-agenda-arrondissement-change= 20

  if data.modifiers && data.modifiers.indexOf("news-cards") !== -1
    if data.modifiers.indexOf("large-first-child") !== -1
      ul.news-list(class=data.modifiers+" "+data.agenda)
        each item, index in data.items.slice(0, 5)
          li.news-list-card-item
            if index === 0
              - var item = JSON.parse(JSON.stringify(item)) // clone the data object
              - item.modifiers = ["large"] // overwrite the modifiers
              +news-card(item)
            else
              +news-card(item)
    else
      ul.news-list.gallery(class=data.modifiers+" "+data.agenda)
        each item in data.items
          li.news-agenda-card-item
            +news-card(item)
      div.agenda-clear
  else
    ul.news-list.gallery(class=data.modifiers+" "+data.agenda)
      each item in data.items
        li.news-list-item
          a.news-item(href=item.href onclick=item.onclick)
            .news-item-meta
              .news-item-date= item.date
              .news-item-category= item.category
            .news-item-title= item.title
            if item.counters
              .social-counters
                .facebook-counter
                  i.icon.icon-facebook(aria-hidden="true")
                  span.counter-value= item.counters.facebook[0]
                  span.counter-label= item.counters.facebook[1]
                .twitter-counter
                  i.icon.icon-twitter(aria-hidden="true")
                  span.counter-value= item.counters.twitter[0]
                  span.counter-label= item.counters.twitter[1]
