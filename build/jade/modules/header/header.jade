include ../quick-access/quick-access

mixin header(opts)
  .header-wrapper
    header.header
      .layout-wrapper.header-wrapper
        a#logo(href='/')
          span Logo
        .entry
          a(href='/')
            if(opts.h1)
              h1.title= opts.title
            else
              div.title= opts.title
          nav.languages
            ul
              each lang in opts.languages
                li(class=" #{(lang.abbr === opts.active_language) ? 'active' : ''} ")
                  a(href="#{lang.href}")= lang.abbr
      .right
        .icons.item
          if opts.search.visible
            span.fixed_display_searchbox.icon-search
          if opts.marker.visible
            span.fixed_display_around_me.icon-marker
        nav.item
          each item in opts.items
            a(href='#{item.href}')= item.text
        .menu.item
          if opts.participate.visible
            a.participate(href='#{opts.account.url}')
              span.front
                span= opts.participate.front
              span.back
                span= opts.participate.back
          if opts.participate.visible
            a.display-account(href='#{opts.account.url}')
              span.icon.icon-profile
              span.label= opts.account.text
    if opts.quick_access
      - quick_access = JSON.parse(JSON.stringify(opts.quick_access)) // clone the data object
      //- - quick_access.modifiers = ["searching", "force-searching"] // overwrite the modifiers
      +quick-access(quick_access)
